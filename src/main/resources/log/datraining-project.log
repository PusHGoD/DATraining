2018-07-12 11:23:51.868  INFO 13932 --- [main] c.t.unit.ProductRepositoryUnitTest       : Starting ProductRepositoryUnitTest on pmhuan with PID 13932 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 11:23:51.883 DEBUG 13932 --- [main] c.t.unit.ProductRepositoryUnitTest       : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 11:23:51.884  INFO 13932 --- [main] c.t.unit.ProductRepositoryUnitTest       : No active profile set, falling back to default profiles: default
2018-07-12 11:23:57.081  INFO 13932 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 11:23:59.027  INFO 13932 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 11:24:03.005  WARN 13932 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 11:24:03.789 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:03.887 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:03.890 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:03.891 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:03.922 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:03.922 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:03.931 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:03.932 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:03.996 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.032 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:04.033 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:04.131 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.134 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.136 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.137 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.138 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.139 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.152 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.153 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:04.155 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:04.155 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.156 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.157 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.157 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.232 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.234 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.246 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.246 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.248 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.249 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.264 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:04.272 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:04.273 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.340 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.340 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.342 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.342 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.343 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.344 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.356 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.358 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:04.361 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:04.812 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.812 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.814 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.816 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.817 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.818 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.890 DEBUG 13932 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:04.891 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:04.956 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:07.170  WARN 13932 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 11:24:08.319  INFO 13932 --- [main] c.t.unit.ProductRepositoryUnitTest       : Started ProductRepositoryUnitTest in 18.241 seconds (JVM running for 22.778)
2018-07-12 11:24:08.332 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.333 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.334 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.335 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.346 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.356 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.357 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.361 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1e9d6c78]
2018-07-12 11:24:08.367 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.367 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:08.397 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.398 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:08.466 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:08.467 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:08.472 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:08.473 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:08.481 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.481 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.482 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.482 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@51d41b97]
2018-07-12 11:24:08.484 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.485 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:08.491 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.492 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:08.660 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:08.662 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#9d490d4f-eef8-4d10-9363-276779b9d34b]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:08.664 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:08.665 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:08.667 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.667 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.668 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.668 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1ed0128b]
2018-07-12 11:24:08.669 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.669 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:08.673 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.673 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:08.687 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:08.687 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:08.688 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:08.688 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:08.689 DEBUG 13932 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.690 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:08.690 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.690 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7bfedfb7]
2018-07-12 11:24:08.691 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.691 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:08.695 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:08.695 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:09.117 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:09.117 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:09.118 DEBUG 13932 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:09.118 DEBUG 13932 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:11.789  INFO 13932 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 11:24:44.809  INFO 8132 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 8132 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 11:24:44.811 DEBUG 8132 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 11:24:44.816  INFO 8132 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 11:24:49.209  INFO 8132 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 11:24:50.742  INFO 8132 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 11:24:52.333  WARN 8132 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 11:24:52.770 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:52.967 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:52.979 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:52.980 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:52.997 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.000 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.027 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.030 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.166 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:53.276 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:53.281 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.511 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.511 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.513 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.513 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.516 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.517 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.525 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.527 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.528 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.529 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.530 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:53.530 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.531 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:53.580 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.581 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.582 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.583 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.584 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.585 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.598 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:53.604 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.606 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:53.670 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.671 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.675 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.677 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.679 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.680 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.693 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.695 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:53.699 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:53.952 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.953 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.955 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.956 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.957 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.957 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:53.976 DEBUG 8132 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 11:24:53.976 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:54.168 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 11:24:55.156  WARN 8132 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 11:24:56.342  INFO 8132 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 13.058 seconds (JVM running for 14.325)
2018-07-12 11:24:56.351 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:56.352 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:56.352 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:56.352 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:56.353 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:56.441 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:56.453 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:56.454 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:56.460 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2e09e367]
2018-07-12 11:24:56.470 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:56.472 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:56.996 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:56.996 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:57.001 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 11:24:57.395 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 11:24:57.407 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 11:24:57.408 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 11:24:57.867 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:57.867 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:57.872 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:57.872 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:57.877 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:57.877 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:57.878 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:57.878 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5169db2f]
2018-07-12 11:24:57.879 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:57.879 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:57.887 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:57.887 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:57.888 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 11:24:57.889 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 11:24:57.890 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 11:24:57.890 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 11:24:58.099 DEBUG 8132 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 11:24:58.307 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:58.307 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:58.307 DEBUG 8132 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 11:24:58.517 DEBUG 8132 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 11:24:58.518 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 11:24:58.518 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 11:24:58.519 DEBUG 8132 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 11:24:58.522 DEBUG 8132 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 11:24:58.532 ERROR 8132 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 11:24:58.542 DEBUG 8132 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 11:24:58.821 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:58.821 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:58.822 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:58.822 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:58.824 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:58.826 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:58.826 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:58.826 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75566f4]
2018-07-12 11:24:58.829 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:58.829 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:58.870 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:58.870 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:58.870 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 11:24:58.871 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 11:24:58.872 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 11:24:58.872 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 11:24:59.053 ERROR 8132 --- [main] c.t.security.CustomAccessDeniedHandler   : Access is denied
2018-07-12 11:24:59.066 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:59.066 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:59.067 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:59.068 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:59.078 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:59.079 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:59.080 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:59.080 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@55300b93]
2018-07-12 11:24:59.081 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:59.081 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:59.089 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:59.089 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:59.089 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 11:24:59.091 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 11:24:59.091 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 11:24:59.092 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 11:24:59.258 DEBUG 8132 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 11:24:59.258 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:59.258 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:59.259 DEBUG 8132 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 11:24:59.486 DEBUG 8132 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 11:24:59.602 DEBUG 8132 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 11:24:59.645 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:59.646 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:59.648 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:59.648 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:24:59.651 DEBUG 8132 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:59.651 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 11:24:59.652 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:59.652 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@37f7ce20]
2018-07-12 11:24:59.654 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:59.654 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:59.666 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:59.666 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:59.666 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 11:24:59.667 DEBUG 8132 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 11:24:59.668 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 11:24:59.668 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 11:24:59.773 DEBUG 8132 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 11:24:59.774 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 11:24:59.774 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 11:24:59.774 DEBUG 8132 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 11:24:59.786 DEBUG 8132 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 11:24:59.786 DEBUG 8132 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 11:24:59.799 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 11:24:59.799 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 11:24:59.799 DEBUG 8132 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 11:24:59.799 DEBUG 8132 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 11:25:02.057  INFO 8132 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 14:15:31.954  INFO 13468 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 13468 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 14:15:31.956 DEBUG 13468 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 14:15:31.958  INFO 13468 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 14:15:36.074  INFO 13468 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 14:15:37.151  INFO 13468 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 14:15:38.946  WARN 13468 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 14:15:39.393 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.490 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.494 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.495 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.504 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.504 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.515 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.515 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.565 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:39.588 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:39.589 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:39.711 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.711 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.713 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.716 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.718 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.718 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.729 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:39.731 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:39.731 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:39.732 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:39.733 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:39.734 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:39.735 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:39.781 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.781 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.783 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.783 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.784 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.785 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.794 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:39.796 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:39.798 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:39.838 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.839 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.840 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.841 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.842 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:39.842 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:39.852 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:39.854 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:39.857 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:40.067 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:40.067 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:40.068 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:40.069 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:40.070 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:40.070 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:40.088 DEBUG 13468 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:15:40.089 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:40.143 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:15:41.041  WARN 13468 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 14:15:42.143  INFO 13468 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 11.555 seconds (JVM running for 13.023)
2018-07-12 14:15:42.152 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:42.153 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:42.153 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:42.154 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:42.155 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:42.155 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:42.171 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:42.179 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:42.180 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:42.186 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6219006a]
2018-07-12 14:15:42.194 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:42.195 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:42.699 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:42.700 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:42.704 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:15:42.969 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:15:42.970 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:15:42.970 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:15:43.415 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:15:43.416 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:15:43.421 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:15:43.421 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:43.424 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:43.425 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:43.425 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.425 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@be9cc86]
2018-07-12 14:15:43.426 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.426 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:43.524 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.524 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:43.524 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:15:43.526 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:15:43.526 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:15:43.526 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:15:43.637 DEBUG 13468 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method badRequestError().
2018-07-12 14:15:43.643 ERROR 13468 --- [main] c.t.c.BaseControllerExceptionHandler     : Request method 'POST' not supported
2018-07-12 14:15:43.651 DEBUG 13468 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method badRequestError().
2018-07-12 14:15:43.684 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:15:43.685 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:15:43.685 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:15:43.685 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:43.699 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:43.699 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:43.700 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.700 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6c3a7b84]
2018-07-12 14:15:43.701 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.702 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:43.706 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.707 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:43.707 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:15:43.708 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:15:43.709 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:15:43.709 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:15:43.867 DEBUG 13468 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 14:15:43.874 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.875 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:43.875 DEBUG 13468 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 14:15:43.919 DEBUG 13468 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 14:15:43.920 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:15:43.920 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:15:43.921 DEBUG 13468 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 14:15:43.921 DEBUG 13468 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 14:15:43.922 ERROR 13468 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 14:15:43.922 DEBUG 13468 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 14:15:43.951 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:15:43.952 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:15:43.953 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:15:43.953 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:43.954 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:43.955 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:43.955 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.955 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6d01f2e5]
2018-07-12 14:15:43.956 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:43.956 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.035 DEBUG 13468 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 14:15:44.037 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.037 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.037 DEBUG 13468 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 14:15:44.038 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.038 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.073 DEBUG 13468 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 14:15:44.074 DEBUG 13468 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 14:15:44.083 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:15:44.085 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#18625ca3-a904-4947-b049-a12be779b346]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:15:44.086 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:15:44.086 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:44.088 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:44.089 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:44.089 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.089 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@138d978e]
2018-07-12 14:15:44.091 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.091 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.097 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.098 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.098 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:15:44.099 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:15:44.099 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:15:44.099 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:15:44.183 DEBUG 13468 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 14:15:44.183 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.183 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.183 DEBUG 13468 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 14:15:44.232 DEBUG 13468 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 14:15:44.232 DEBUG 13468 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 14:15:44.242 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:15:44.243 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:15:44.247 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:15:44.247 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:44.250 DEBUG 13468 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:44.250 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:15:44.251 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.252 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@15a6a91f]
2018-07-12 14:15:44.252 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.253 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.260 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.260 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.260 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:15:44.261 DEBUG 13468 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:15:44.261 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:15:44.262 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:15:44.352 DEBUG 13468 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 14:15:44.352 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:15:44.352 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:15:44.352 DEBUG 13468 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 14:15:44.383 DEBUG 13468 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 14:15:44.384 DEBUG 13468 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 14:15:44.399 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:15:44.399 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:15:44.400 DEBUG 13468 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:15:44.400 DEBUG 13468 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:15:46.694  INFO 13468 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 14:42:25.698  INFO 13016 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 13016 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 14:42:25.700 DEBUG 13016 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 14:42:25.703  INFO 13016 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 14:42:30.930  INFO 13016 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 14:42:32.292  INFO 13016 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 14:42:34.134  WARN 13016 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 14:42:34.805 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:34.985 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:34.991 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:34.992 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:35.004 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:35.004 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:35.032 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:35.033 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:35.637 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:35.717 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:35.721 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:35.958 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:35.959 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:35.960 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:35.961 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:35.962 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:35.962 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:35.972 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:35.975 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:35.976 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:35.976 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:35.977 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:35.978 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:35.979 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:36.036 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.037 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.038 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.039 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.040 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.041 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.058 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:36.071 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:36.074 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:36.121 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.122 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.123 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.124 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.125 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.125 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.131 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:36.134 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:36.137 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:36.637 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.638 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.652 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.653 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.654 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.655 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.711 DEBUG 13016 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:42:36.713 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:36.935 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:42:38.109  WARN 13016 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 14:42:39.510  INFO 13016 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 15.527 seconds (JVM running for 17.193)
2018-07-12 14:42:39.521 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:39.522 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:39.523 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:39.523 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:39.524 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:39.524 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:39.537 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:39.544 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:39.545 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:39.552 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28ceb25e]
2018-07-12 14:42:39.578 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:39.578 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:40.164 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:40.165 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:40.173 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:42:40.644 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:42:40.645 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:42:40.645 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:42:41.034 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:42:41.034 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:42:41.038 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:42:41.039 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:41.042 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:41.042 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:41.043 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:41.043 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@32f54c2a]
2018-07-12 14:42:41.044 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:41.044 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:41.444 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:41.444 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:41.445 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:42:41.446 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:42:41.446 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:42:41.446 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:42:41.645 DEBUG 13016 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method badRequestError().
2018-07-12 14:42:41.657 ERROR 13016 --- [main] c.t.c.BaseControllerExceptionHandler     : Request method 'POST' not supported
2018-07-12 14:42:41.668 DEBUG 13016 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method badRequestError().
2018-07-12 14:42:41.722 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:42:41.723 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:42:41.723 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:42:41.723 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:41.760 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:41.761 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:41.761 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:41.762 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4cb91fa4]
2018-07-12 14:42:41.764 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:41.771 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:41.780 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:41.782 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:41.782 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:42:41.788 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:42:41.790 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:42:41.790 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:42:42.010 DEBUG 13016 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 14:42:42.025 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.026 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.026 DEBUG 13016 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 14:42:42.090 DEBUG 13016 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 14:42:42.090 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:42:42.090 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:42:42.091 DEBUG 13016 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 14:42:42.091 DEBUG 13016 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 14:42:42.092 ERROR 13016 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 14:42:42.092 DEBUG 13016 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 14:42:42.130 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:42:42.130 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:42:42.131 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:42:42.131 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:42.134 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:42.135 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:42.136 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.136 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@64f49b3]
2018-07-12 14:42:42.137 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.137 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.248 DEBUG 13016 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 14:42:42.255 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.255 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.256 DEBUG 13016 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 14:42:42.259 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.260 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.351 DEBUG 13016 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 14:42:42.352 DEBUG 13016 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 14:42:42.361 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:42:42.364 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#51e3d0e5-6ebf-4cc4-b095-efdf648dd37c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:42:42.365 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:42:42.365 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:42.369 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:42.369 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:42.370 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.370 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21084a6d]
2018-07-12 14:42:42.371 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.372 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.378 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.379 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.379 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:42:42.380 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:42:42.380 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:42:42.380 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:42:42.483 DEBUG 13016 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 14:42:42.483 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.483 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.484 DEBUG 13016 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 14:42:42.524 DEBUG 13016 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 14:42:42.524 DEBUG 13016 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 14:42:42.539 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:42:42.540 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:42:42.544 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:42:42.544 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:42.552 DEBUG 13016 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:42.553 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:42:42.557 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.558 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@726e29d]
2018-07-12 14:42:42.559 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.559 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.567 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.567 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.567 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:42:42.569 DEBUG 13016 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:42:42.569 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:42:42.569 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:42:42.721 DEBUG 13016 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 14:42:42.721 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:42:42.722 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:42:42.722 DEBUG 13016 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 14:42:42.733 DEBUG 13016 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 14:42:42.734 DEBUG 13016 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 14:42:42.754 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:42:42.755 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:42:42.755 DEBUG 13016 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:42:42.755 DEBUG 13016 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:42:45.106  INFO 13016 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 14:43:19.084  INFO 9732 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 9732 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 14:43:19.086 DEBUG 9732 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 14:43:19.090  INFO 9732 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 14:43:24.318  INFO 9732 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 14:43:25.625  INFO 9732 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 14:43:28.847  WARN 9732 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 14:43:29.307 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.418 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.423 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.424 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.444 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.444 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.458 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.458 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.531 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:29.572 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:29.573 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:29.688 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.689 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.696 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.697 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.698 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.699 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.712 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:29.717 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:29.727 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:29.728 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:29.729 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:29.730 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:29.734 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:29.794 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.794 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.796 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.797 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.797 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.798 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.819 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:29.823 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:29.823 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:29.893 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.893 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.894 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.895 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.896 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:29.897 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:29.905 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:29.907 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:29.909 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:30.191 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:30.191 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:30.193 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:30.193 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:30.194 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:30.195 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:30.214 DEBUG 9732 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:43:30.214 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:30.330 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:43:31.170  WARN 9732 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 14:43:32.308  INFO 9732 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 14.87 seconds (JVM running for 16.324)
2018-07-12 14:43:32.319 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:32.320 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:32.320 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:32.321 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:32.321 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:32.322 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:32.334 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:32.344 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:32.346 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:32.357 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4be3de36]
2018-07-12 14:43:32.509 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:32.509 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:32.933 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:32.934 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:32.940 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:43:33.274 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:43:33.274 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:43:33.274 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:43:33.661 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:43:33.661 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:43:33.664 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:43:33.664 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:33.669 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:33.669 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:33.669 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:33.670 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7772ec28]
2018-07-12 14:43:33.671 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:33.671 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:33.775 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:33.776 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:33.776 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:43:33.777 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:43:33.778 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:43:33.778 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:43:33.908 DEBUG 9732 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method badRequestError().
2018-07-12 14:43:33.940 ERROR 9732 --- [main] c.t.c.BaseControllerExceptionHandler     : Request method 'POST' not supported
2018-07-12 14:43:33.950 DEBUG 9732 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method badRequestError().
2018-07-12 14:43:34.022 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:43:34.023 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:43:34.023 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:43:34.023 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:34.033 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:34.034 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:34.034 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.035 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b2ade46]
2018-07-12 14:43:34.038 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.040 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.054 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.054 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.054 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:43:34.056 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:43:34.056 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:43:34.056 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:43:34.246 DEBUG 9732 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 14:43:34.268 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.268 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.268 DEBUG 9732 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 14:43:34.330 DEBUG 9732 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 14:43:34.331 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:43:34.331 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:43:34.331 DEBUG 9732 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 14:43:34.332 DEBUG 9732 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 14:43:34.332 ERROR 9732 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 14:43:34.333 DEBUG 9732 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 14:43:34.368 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:43:34.368 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:43:34.369 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:43:34.369 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:34.372 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:34.376 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:34.377 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.377 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6167a456]
2018-07-12 14:43:34.377 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.378 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.571 DEBUG 9732 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 14:43:34.574 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.574 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.575 DEBUG 9732 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 14:43:34.577 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.577 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.646 DEBUG 9732 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 14:43:34.647 DEBUG 9732 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 14:43:34.668 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:43:34.670 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#d28330ca-0b8c-4456-834d-3ae80c8a61f2]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:43:34.671 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:43:34.671 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:34.676 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:34.676 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:34.676 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.677 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1cc42abe]
2018-07-12 14:43:34.678 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.684 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.692 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.693 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.693 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:43:34.694 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:43:34.694 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:43:34.694 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:43:34.795 DEBUG 9732 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 14:43:34.795 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:34.795 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:34.796 DEBUG 9732 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 14:43:35.020 DEBUG 9732 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 14:43:35.025 DEBUG 9732 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 14:43:35.037 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:43:35.037 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:43:35.037 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:43:35.037 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:35.039 DEBUG 9732 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:35.040 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:43:35.040 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:35.040 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29088be1]
2018-07-12 14:43:35.041 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:35.041 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:35.048 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:35.049 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:35.049 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:43:35.050 DEBUG 9732 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:43:35.051 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:43:35.051 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:43:35.170 DEBUG 9732 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 14:43:35.179 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:43:35.179 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:43:35.179 DEBUG 9732 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 14:43:35.187 DEBUG 9732 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 14:43:35.188 DEBUG 9732 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 14:43:35.201 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:43:35.201 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:43:35.202 DEBUG 9732 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:43:35.202 DEBUG 9732 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:43:37.485  INFO 9732 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 14:50:17.688  INFO 12144 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 12144 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 14:50:17.690 DEBUG 12144 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 14:50:17.693  INFO 12144 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 14:50:22.124  INFO 12144 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 14:50:23.162  INFO 12144 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 14:50:24.699  WARN 12144 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 14:50:25.157 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.342 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.347 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.349 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.363 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.366 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.380 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.381 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.466 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:25.506 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:25.507 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:25.611 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.612 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.616 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.616 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.619 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.619 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.630 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:25.632 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:25.633 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:25.635 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:25.636 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:25.637 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:25.637 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:25.689 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.690 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.692 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.693 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.695 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.695 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.708 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:25.713 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:25.714 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:25.759 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.760 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.761 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.762 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.763 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:25.764 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:25.771 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:25.772 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:25.776 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:26.057 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:26.057 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:26.060 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:26.062 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:26.063 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:26.064 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:26.104 DEBUG 12144 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 14:50:26.106 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:26.243 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 14:50:27.695  WARN 12144 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 14:50:29.200  INFO 12144 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 13.464 seconds (JVM running for 14.873)
2018-07-12 14:50:29.212 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:29.238 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:29.238 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:29.238 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:29.238 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:29.239 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:29.251 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:29.260 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:29.261 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:29.269 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@472dbaf5]
2018-07-12 14:50:29.321 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:29.323 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:29.922 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:29.922 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:29.929 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:50:30.244 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:50:30.245 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:50:30.245 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:50:30.545 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:50:30.545 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:50:30.548 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:50:30.548 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:30.554 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:30.555 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:30.555 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:30.555 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38394e76]
2018-07-12 14:50:30.556 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:30.556 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:30.821 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:30.821 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:30.821 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:50:30.822 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:50:30.822 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:50:30.822 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:50:30.930 DEBUG 12144 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method badRequestError().
2018-07-12 14:50:30.938 ERROR 12144 --- [main] c.t.c.BaseControllerExceptionHandler     : Request method 'POST' not supported
2018-07-12 14:50:30.958 DEBUG 12144 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method badRequestError().
2018-07-12 14:50:31.011 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:50:31.011 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:50:31.012 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:50:31.012 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:31.021 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:31.021 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:31.022 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.022 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@77acc95a]
2018-07-12 14:50:31.023 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.023 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.029 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.029 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.029 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:50:31.030 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:50:31.031 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:50:31.031 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:50:31.177 DEBUG 12144 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 14:50:31.188 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.188 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.188 DEBUG 12144 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 14:50:31.235 DEBUG 12144 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 14:50:31.235 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:50:31.235 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:50:31.236 DEBUG 12144 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 14:50:31.236 DEBUG 12144 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 14:50:31.236 ERROR 12144 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 14:50:31.237 DEBUG 12144 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 14:50:31.288 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:50:31.289 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:50:31.290 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:50:31.290 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:31.292 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:31.307 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:31.309 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.310 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3b9a2629]
2018-07-12 14:50:31.311 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.311 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.435 DEBUG 12144 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 14:50:31.437 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.437 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.437 DEBUG 12144 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 14:50:31.439 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.440 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.491 DEBUG 12144 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 14:50:31.492 DEBUG 12144 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 14:50:31.507 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:50:31.519 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#4cc1dfeb-6c16-4539-ba20-c19d14b2379b]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:50:31.523 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:50:31.524 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:31.528 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:31.528 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:31.529 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.529 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@51d9479c]
2018-07-12 14:50:31.531 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.532 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.543 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.543 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.543 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:50:31.544 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:50:31.545 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:50:31.545 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:50:31.657 DEBUG 12144 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 14:50:31.658 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.658 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.658 DEBUG 12144 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 14:50:31.702 DEBUG 12144 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 14:50:31.702 DEBUG 12144 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 14:50:31.715 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:50:31.719 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:50:31.723 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:50:31.723 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:31.726 DEBUG 12144 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:31.726 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 14:50:31.787 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.788 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e755d5f]
2018-07-12 14:50:31.788 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.789 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.796 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.796 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.797 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 14:50:31.798 DEBUG 12144 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 14:50:31.798 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 14:50:31.799 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 14:50:31.887 DEBUG 12144 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 14:50:31.888 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 14:50:31.888 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 14:50:31.888 DEBUG 12144 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 14:50:31.898 DEBUG 12144 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 14:50:31.901 DEBUG 12144 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 14:50:31.928 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 14:50:31.929 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 14:50:31.929 DEBUG 12144 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 14:50:31.929 DEBUG 12144 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 14:50:34.287  INFO 12144 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:02:08.671  INFO 2620 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 2620 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 15:02:08.678 DEBUG 2620 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 15:02:08.687  INFO 2620 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 15:02:13.060  INFO 2620 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 15:02:14.359  INFO 2620 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:02:17.735  WARN 2620 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 15:02:18.419 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:18.685 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:18.692 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:18.693 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:18.710 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:18.710 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:18.727 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:18.727 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:18.844 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:18.872 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:18.873 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:18.983 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:18.984 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:18.986 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:18.986 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:18.987 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:18.988 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.011 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:19.014 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:19.017 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:19.023 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:19.027 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:19.030 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:19.034 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:19.139 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.140 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.142 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.142 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.143 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.143 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.162 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:19.178 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:19.179 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:19.269 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.272 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.275 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.276 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.278 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.279 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.291 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:19.293 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:19.296 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:19.782 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.782 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.784 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.785 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.788 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.790 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.871 DEBUG 2620 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:02:19.871 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:19.985 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:02:21.506  WARN 2620 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 15:02:22.869  INFO 2620 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 15.631 seconds (JVM running for 16.87)
2018-07-12 15:02:22.880 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:22.882 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:22.882 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:22.883 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:22.883 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:22.884 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:22.900 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:22.912 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:22.913 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:22.921 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@8dedec8]
2018-07-12 15:02:22.932 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:22.932 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:23.318 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:23.319 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:23.326 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:02:23.642 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:02:23.642 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:02:23.642 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:02:24.137 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:02:24.138 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:02:24.140 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:02:24.141 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:24.144 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.144 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.145 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.145 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34ab398b]
2018-07-12 15:02:24.146 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.147 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.262 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.262 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.263 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:02:24.264 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:02:24.264 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:02:24.264 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:02:24.372 DEBUG 2620 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method badRequestError().
2018-07-12 15:02:24.379 ERROR 2620 --- [main] c.t.c.BaseControllerExceptionHandler     : Request method 'POST' not supported
2018-07-12 15:02:24.387 DEBUG 2620 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method badRequestError().
2018-07-12 15:02:24.418 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:02:24.418 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:02:24.419 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:02:24.421 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:24.436 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.436 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.436 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.437 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1bb78ae]
2018-07-12 15:02:24.439 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.440 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.449 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.450 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.450 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:02:24.452 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:02:24.453 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:02:24.453 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:02:24.571 DEBUG 2620 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:02:24.578 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.578 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.578 DEBUG 2620 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:02:24.629 DEBUG 2620 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:02:24.629 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:02:24.629 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:02:24.630 DEBUG 2620 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:02:24.630 DEBUG 2620 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 15:02:24.631 ERROR 2620 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 15:02:24.631 DEBUG 2620 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 15:02:24.666 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:02:24.667 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:02:24.667 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:02:24.667 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:24.669 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.670 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.671 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.671 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@37c45154]
2018-07-12 15:02:24.672 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.672 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.771 DEBUG 2620 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 15:02:24.773 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.773 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.773 DEBUG 2620 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 15:02:24.776 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.776 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.823 DEBUG 2620 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 15:02:24.824 DEBUG 2620 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 15:02:24.831 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:02:24.833 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#f54f6ebe-90d6-420b-a47c-1bfb30c34bcc]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:02:24.833 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:02:24.833 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:24.836 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.837 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.837 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.837 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5feaafb3]
2018-07-12 15:02:24.838 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.839 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.847 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.847 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.847 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:02:24.848 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:02:24.849 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:02:24.850 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:02:24.956 DEBUG 2620 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:02:24.956 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.956 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:24.956 DEBUG 2620 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:02:24.984 DEBUG 2620 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:02:24.985 DEBUG 2620 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:02:24.991 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:02:24.991 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:02:24.992 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:02:24.992 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:24.994 DEBUG 2620 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.995 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:02:24.995 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.995 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@750b200b]
2018-07-12 15:02:24.996 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:24.996 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:25.004 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:25.004 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:25.005 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:02:25.006 DEBUG 2620 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:02:25.006 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:02:25.006 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:02:25.095 DEBUG 2620 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 15:02:25.096 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:02:25.096 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:02:25.096 DEBUG 2620 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 15:02:25.106 DEBUG 2620 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 15:02:25.107 DEBUG 2620 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 15:02:25.143 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:02:25.143 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:02:25.144 DEBUG 2620 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:02:25.144 DEBUG 2620 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:02:27.397  INFO 2620 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:10:28.752  INFO 14644 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 14644 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 15:10:28.755 DEBUG 14644 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 15:10:28.759  INFO 14644 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 15:10:32.948  INFO 14644 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 15:10:34.047  INFO 14644 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:10:36.790  WARN 14644 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 15:10:37.247 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.351 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.357 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.358 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.370 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.370 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.385 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.386 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.430 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.462 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:37.465 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:37.558 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.558 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.560 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.560 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.562 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.562 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.573 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.576 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.577 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.578 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.578 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:37.579 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.580 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:37.636 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.636 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.637 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.638 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.639 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.639 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.651 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:37.652 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.653 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:37.706 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.706 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.708 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.709 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.711 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.711 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.722 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.729 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:37.732 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:37.941 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.941 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.943 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.943 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.944 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.945 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:37.975 DEBUG 14644 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:10:37.976 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:38.129 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:10:38.941  WARN 14644 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 15:10:40.257  INFO 14644 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 12.922 seconds (JVM running for 14.128)
2018-07-12 15:10:40.267 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:40.268 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:40.268 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:40.268 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:40.268 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:40.269 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:40.289 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:40.319 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:40.320 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:40.327 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@15a2fddd]
2018-07-12 15:10:40.334 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:40.336 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:40.740 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:40.741 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:40.746 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:10:40.965 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:10:40.966 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:10:40.966 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:10:41.260 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:10:41.260 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:10:41.263 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:10:41.264 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:41.267 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:41.267 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:41.267 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.267 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@43120a77]
2018-07-12 15:10:41.268 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.268 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.373 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.374 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.374 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:10:41.375 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:10:41.375 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:10:41.376 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:10:41.498 DEBUG 14644 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method badRequestError().
2018-07-12 15:10:41.506 ERROR 14644 --- [main] c.t.c.BaseControllerExceptionHandler     : Request method 'POST' not supported
2018-07-12 15:10:41.514 DEBUG 14644 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method badRequestError().
2018-07-12 15:10:41.548 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:10:41.555 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:10:41.555 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:10:41.556 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:41.560 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:41.561 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:41.561 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.561 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@15c96f24]
2018-07-12 15:10:41.564 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.569 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.580 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.581 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.581 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:10:41.582 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:10:41.583 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:10:41.583 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:10:41.717 DEBUG 14644 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:10:41.725 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.726 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.726 DEBUG 14644 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:10:41.760 DEBUG 14644 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:10:41.760 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:10:41.760 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:10:41.760 DEBUG 14644 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:10:41.761 DEBUG 14644 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 15:10:41.761 ERROR 14644 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 15:10:41.761 DEBUG 14644 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 15:10:41.807 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:10:41.808 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:10:41.808 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:10:41.808 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:41.810 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:41.811 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:41.811 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.811 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@69c51fdb]
2018-07-12 15:10:41.812 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.812 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.900 DEBUG 14644 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 15:10:41.902 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.902 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.902 DEBUG 14644 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 15:10:41.906 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.906 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.945 DEBUG 14644 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 15:10:41.946 DEBUG 14644 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 15:10:41.955 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:10:41.957 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#53b4fbed-1e46-4979-ab7b-f6123edf0198]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:10:41.958 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:10:41.958 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:41.963 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:41.964 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:41.965 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.965 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6075a4ea]
2018-07-12 15:10:41.968 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.969 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.982 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:41.983 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:41.983 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:10:41.985 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:10:41.987 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:10:41.987 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:10:42.137 DEBUG 14644 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:10:42.137 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:42.137 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:42.137 DEBUG 14644 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:10:42.165 DEBUG 14644 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:10:42.166 DEBUG 14644 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:10:42.174 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:10:42.174 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:10:42.174 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:10:42.174 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:42.177 DEBUG 14644 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:42.177 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:10:42.178 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:42.178 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3f12676]
2018-07-12 15:10:42.179 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:42.179 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:42.243 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:42.244 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:42.244 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:10:42.246 DEBUG 14644 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:10:42.246 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:10:42.247 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:10:42.341 DEBUG 14644 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 15:10:42.342 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:10:42.342 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:10:42.342 DEBUG 14644 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 15:10:42.354 DEBUG 14644 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 15:10:42.356 DEBUG 14644 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 15:10:42.367 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:10:42.367 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:10:42.367 DEBUG 14644 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:10:42.367 DEBUG 14644 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:10:44.618  INFO 14644 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:12:11.915  INFO 364 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 364 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 15:12:11.918 DEBUG 364 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 15:12:11.921  INFO 364 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 15:12:16.159  INFO 364 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 15:12:17.550  INFO 364 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:12:19.059  WARN 364 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 15:12:19.476 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.571 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.574 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.575 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.589 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.590 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.604 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.608 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.661 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:19.714 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:19.717 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:19.829 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.830 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.831 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.832 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.833 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.833 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.841 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:19.843 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:19.844 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:19.844 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:19.845 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:19.846 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:19.847 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:19.899 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.900 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.902 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.902 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.903 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.904 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.912 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:19.913 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:19.914 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:19.961 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.961 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.965 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.967 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.969 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:19.970 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:19.982 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:19.984 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:19.988 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:20.186 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:20.187 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:20.188 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:20.188 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:20.189 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:20.190 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:20.216 DEBUG 364 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:12:20.217 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:20.282 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:12:21.054  WARN 364 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 15:12:22.437  INFO 364 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 11.845 seconds (JVM running for 13.012)
2018-07-12 15:12:22.451 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.453 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.454 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.454 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.455 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.457 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.457 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.478 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.490 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:22.491 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:22.520 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@15a2fddd]
2018-07-12 15:12:22.530 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:22.537 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:22.999 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:22.999 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:23.005 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:12:23.293 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:12:23.294 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:12:23.294 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:12:23.589 ERROR 364 --- [main] c.t.security.CustomAccessDeniedHandler   : Access is denied
2018-07-12 15:12:23.609 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:12:23.610 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:12:23.614 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:12:23.614 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:23.618 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:23.619 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:23.619 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:23.619 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33845e3d]
2018-07-12 15:12:23.620 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:23.620 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:23.629 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:23.630 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:23.630 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:12:23.631 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:12:23.631 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:12:23.632 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:12:23.938 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:12:23.938 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:12:23.939 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:12:23.939 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:23.942 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:23.942 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:23.943 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:23.944 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@66851aa5]
2018-07-12 15:12:23.944 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:23.945 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.079 DEBUG 364 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method badRequestError().
2018-07-12 15:12:24.086 ERROR 364 --- [main] c.t.c.BaseControllerExceptionHandler     : Request method 'POST' not supported
2018-07-12 15:12:24.092 DEBUG 364 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method badRequestError().
2018-07-12 15:12:24.137 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:12:24.138 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:12:24.149 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:12:24.149 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:24.159 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:24.160 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:24.161 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.161 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@61c3d7ac]
2018-07-12 15:12:24.162 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.162 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.171 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.171 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.171 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:12:24.174 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:12:24.174 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:12:24.174 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:12:24.360 DEBUG 364 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:12:24.370 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.371 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.371 DEBUG 364 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:12:24.421 DEBUG 364 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:12:24.422 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:12:24.422 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:12:24.422 DEBUG 364 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:12:24.423 DEBUG 364 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 15:12:24.423 ERROR 364 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 15:12:24.423 DEBUG 364 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 15:12:24.453 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:12:24.453 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:12:24.454 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:12:24.454 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:24.456 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:24.457 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:24.457 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.457 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63053b71]
2018-07-12 15:12:24.459 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.459 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.540 DEBUG 364 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 15:12:24.542 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.543 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.543 DEBUG 364 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 15:12:24.545 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.545 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.590 DEBUG 364 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 15:12:24.627 DEBUG 364 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 15:12:24.644 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:12:24.646 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#80eca5b0-08f5-44d9-9035-0df63b04b6a5]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:12:24.647 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:12:24.647 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:24.650 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:24.650 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:24.651 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.651 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7891742e]
2018-07-12 15:12:24.652 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.652 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.660 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.660 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.660 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:12:24.662 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:12:24.662 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:12:24.662 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:12:24.838 DEBUG 364 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:12:24.839 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.839 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.840 DEBUG 364 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:12:24.868 DEBUG 364 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:12:24.868 DEBUG 364 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:12:24.876 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:12:24.876 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:12:24.877 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:12:24.877 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:24.879 DEBUG 364 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:24.879 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:12:24.880 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.880 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2f69d246]
2018-07-12 15:12:24.881 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.881 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.889 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.889 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.889 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:12:24.891 DEBUG 364 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:12:24.891 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:12:24.891 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:12:24.984 DEBUG 364 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 15:12:24.985 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:12:24.985 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:12:24.985 DEBUG 364 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 15:12:24.998 DEBUG 364 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 15:12:24.999 DEBUG 364 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 15:12:25.030 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:12:25.030 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:12:25.031 DEBUG 364 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:12:25.031 DEBUG 364 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:12:27.302  INFO 364 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:13:48.454  INFO 11596 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 11596 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 15:13:48.460 DEBUG 11596 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 15:13:48.465  INFO 11596 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 15:13:52.674  INFO 11596 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 15:13:53.942  INFO 11596 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:13:56.606  WARN 11596 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 15:13:57.013 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.099 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.102 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.102 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.111 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.112 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.128 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.129 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.171 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:13:57.198 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.200 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:13:57.322 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.323 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.329 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.329 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.331 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.331 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.345 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.347 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.348 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.349 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.352 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.353 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:13:57.355 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:13:57.431 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.432 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.434 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.434 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.436 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.437 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.449 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:13:57.452 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.453 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:13:57.512 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.513 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.514 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.515 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.517 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.517 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.532 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.539 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:13:57.544 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:57.755 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.756 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.757 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.758 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.759 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.760 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.782 DEBUG 11596 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:13:57.784 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:13:57.852 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:13:58.953  WARN 11596 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 15:14:00.003  INFO 11596 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 12.868 seconds (JVM running for 14.03)
2018-07-12 15:14:00.016 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.018 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.020 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.020 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.021 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.021 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.022 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.034 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.044 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.045 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:00.055 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67f0bf7e]
2018-07-12 15:14:00.065 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:00.075 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:00.468 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:00.468 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:00.475 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:14:00.739 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:14:00.739 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:14:00.740 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:14:00.949 ERROR 11596 --- [main] c.t.security.CustomAccessDeniedHandler   : Access is denied
2018-07-12 15:14:00.968 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:14:00.969 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:14:00.973 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:14:00.973 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:00.977 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.977 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:00.977 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:00.977 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e47637c]
2018-07-12 15:14:00.978 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:00.978 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:00.984 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:00.984 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:00.984 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:14:00.986 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:14:00.986 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:14:00.986 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:14:01.171 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:14:01.171 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:14:01.172 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:14:01.173 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:01.175 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.176 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.177 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.177 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@558ed473]
2018-07-12 15:14:01.179 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.182 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.392 DEBUG 11596 --- [main] c.training.controller.ProductController  : Starting method updateProduct().
2018-07-12 15:14:01.408 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.409 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.409 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method updateProduct().
2018-07-12 15:14:01.418 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.419 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.469 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.470 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.487 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method updateProduct().
2018-07-12 15:14:01.488 DEBUG 11596 --- [main] c.training.controller.ProductController  : Ending method updateProduct().
2018-07-12 15:14:01.557 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:14:01.557 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:14:01.558 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:14:01.559 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:01.572 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.573 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.574 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.574 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@b666366]
2018-07-12 15:14:01.575 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.575 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.584 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.585 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.585 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:14:01.591 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:14:01.591 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:14:01.591 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:14:01.717 DEBUG 11596 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:14:01.718 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.718 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.718 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:14:01.755 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:14:01.755 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:14:01.755 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:14:01.755 DEBUG 11596 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:14:01.758 DEBUG 11596 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 15:14:01.766 ERROR 11596 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 15:14:01.767 DEBUG 11596 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 15:14:01.775 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:14:01.776 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:14:01.777 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:14:01.777 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:01.779 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.779 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.779 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.780 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e0b1f03]
2018-07-12 15:14:01.780 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.781 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.791 DEBUG 11596 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 15:14:01.792 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.792 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.792 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 15:14:01.792 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.792 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.799 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 15:14:01.800 DEBUG 11596 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 15:14:01.804 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:14:01.804 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#d8cf4e8d-b125-4d4a-8f79-d6d4fb547581]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:14:01.805 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:14:01.805 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:01.807 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.807 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.807 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.807 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29088be1]
2018-07-12 15:14:01.808 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.808 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.814 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.814 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.814 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:14:01.815 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:14:01.816 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:14:01.816 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:14:01.901 DEBUG 11596 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:14:01.901 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.901 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.901 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:14:01.934 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:14:01.934 DEBUG 11596 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:14:01.944 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:14:01.944 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:14:01.945 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:14:01.945 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:01.947 DEBUG 11596 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.947 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:01.948 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.948 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@524c3e54]
2018-07-12 15:14:01.949 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.949 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.957 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:01.958 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:01.958 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:14:01.959 DEBUG 11596 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:14:01.959 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:14:01.960 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:14:02.067 DEBUG 11596 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 15:14:02.068 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:02.068 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:02.069 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 15:14:02.087 DEBUG 11596 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 15:14:02.088 DEBUG 11596 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 15:14:02.111 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:14:02.124 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:14:02.125 DEBUG 11596 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:14:02.126 DEBUG 11596 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:04.393  INFO 11596 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:14:47.658  INFO 12236 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 12236 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 15:14:47.660 DEBUG 12236 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 15:14:47.662  INFO 12236 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 15:14:51.789  INFO 12236 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 15:14:52.894  INFO 12236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:14:55.611  WARN 12236 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 15:14:56.014 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.107 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.111 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.111 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.123 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.123 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.134 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.134 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.183 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.203 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:56.204 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:56.299 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.300 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.304 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.305 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.308 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.309 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.321 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.323 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.324 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:56.325 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.327 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:56.328 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.328 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.370 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.371 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.372 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.373 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.374 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.374 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.384 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:56.386 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:56.387 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.434 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.434 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.435 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.436 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.437 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.437 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.444 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.445 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:56.449 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:56.651 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.652 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.653 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.654 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.655 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.655 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.682 DEBUG 12236 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:14:56.683 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:56.757 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:14:57.602  WARN 12236 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 15:14:58.633  INFO 12236 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 12.391 seconds (JVM running for 13.541)
2018-07-12 15:14:58.644 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.645 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.646 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.646 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.647 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.647 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.648 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.662 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.671 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:58.672 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:58.679 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@41d53813]
2018-07-12 15:14:58.687 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:58.688 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:59.196 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:59.199 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:59.206 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:14:59.458 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:14:59.459 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:14:59.459 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:14:59.748 ERROR 12236 --- [main] c.t.security.CustomAccessDeniedHandler   : Access is denied
2018-07-12 15:14:59.772 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:14:59.772 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:14:59.776 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:14:59.776 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:14:59.781 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:59.782 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:14:59.782 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:59.783 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@66851aa5]
2018-07-12 15:14:59.784 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:59.784 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:59.791 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:14:59.791 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:14:59.791 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:14:59.793 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:14:59.793 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:14:59.793 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:15:00.019 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:15:00.019 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:15:00.020 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:15:00.020 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:15:00.022 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.023 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.023 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.023 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3bf41cd0]
2018-07-12 15:15:00.024 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.025 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.221 DEBUG 12236 --- [main] c.training.controller.ProductController  : Starting method updateProduct().
2018-07-12 15:15:00.232 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.233 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.233 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method updateProduct().
2018-07-12 15:15:00.242 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.242 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.280 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.280 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.294 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method updateProduct().
2018-07-12 15:15:00.295 DEBUG 12236 --- [main] c.training.controller.ProductController  : Ending method updateProduct().
2018-07-12 15:15:00.365 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:15:00.365 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:15:00.366 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:15:00.366 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:15:00.368 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.369 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.369 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.369 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@113cc14d]
2018-07-12 15:15:00.370 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.370 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.379 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.379 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.379 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:15:00.385 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:15:00.386 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:15:00.386 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:15:00.494 DEBUG 12236 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:15:00.495 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.495 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.495 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:15:00.531 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:15:00.531 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:15:00.531 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:15:00.531 DEBUG 12236 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:15:00.533 DEBUG 12236 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 15:15:00.545 ERROR 12236 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 15:15:00.565 DEBUG 12236 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 15:15:00.575 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:15:00.576 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:15:00.577 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:15:00.577 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:15:00.579 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.579 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.580 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.580 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@25890ce3]
2018-07-12 15:15:00.581 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.582 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.611 DEBUG 12236 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 15:15:00.613 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.614 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.614 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 15:15:00.614 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.614 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.641 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 15:15:00.642 DEBUG 12236 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 15:15:00.655 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:15:00.657 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#cb92caf0-9359-419c-b85f-62fa64afa553]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:15:00.661 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:15:00.661 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:15:00.664 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.664 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.664 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.665 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@330d16af]
2018-07-12 15:15:00.666 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.670 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.687 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.687 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.687 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:15:00.690 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:15:00.691 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:15:00.691 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:15:00.811 DEBUG 12236 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:15:00.811 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.811 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.811 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:15:00.841 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:15:00.843 DEBUG 12236 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:15:00.855 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:15:00.855 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:15:00.856 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:15:00.856 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:15:00.859 DEBUG 12236 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.859 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:15:00.860 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.860 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3b3a3a92]
2018-07-12 15:15:00.861 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.861 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.869 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:00.869 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:00.869 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:15:00.871 DEBUG 12236 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:15:00.871 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:15:00.871 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:15:01.103 DEBUG 12236 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 15:15:01.103 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:15:01.104 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:15:01.104 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 15:15:01.115 DEBUG 12236 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 15:15:01.116 DEBUG 12236 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 15:15:01.158 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:15:01.158 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:15:01.160 DEBUG 12236 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:15:01.161 DEBUG 12236 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:15:03.439  INFO 12236 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:15:59.915  INFO 15264 --- [main] c.t.i.ProductControllerIntegrationTest   : Starting ProductControllerIntegrationTest on pmhuan with PID 15264 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 15:15:59.919 DEBUG 15264 --- [main] c.t.i.ProductControllerIntegrationTest   : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 15:15:59.928  INFO 15264 --- [main] c.t.i.ProductControllerIntegrationTest   : No active profile set, falling back to default profiles: default
2018-07-12 15:16:06.135  INFO 15264 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 15:16:07.441  INFO 15264 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 15:16:09.782  WARN 15264 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 15:16:10.763 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.103 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.108 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.110 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.129 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.130 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.151 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.153 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.231 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:11.293 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:11.295 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:11.483 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.483 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.488 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.489 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.491 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.492 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.506 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:11.510 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:11.511 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:11.514 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:11.515 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:11.516 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:11.517 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:11.578 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.578 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.580 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.581 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.582 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.582 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.594 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:11.597 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:11.598 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:11.653 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.653 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.657 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.658 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.661 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:11.662 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:11.674 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:11.675 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:11.678 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:12.007 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:12.008 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:12.009 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:12.010 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:12.012 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:12.012 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:12.051 DEBUG 15264 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 15:16:12.053 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:12.237 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 15:16:13.279  WARN 15264 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 15:16:14.607  INFO 15264 --- [main] c.t.i.ProductControllerIntegrationTest   : Started ProductControllerIntegrationTest in 16.142 seconds (JVM running for 17.508)
2018-07-12 15:16:14.614 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.615 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.615 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.616 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.616 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.617 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.617 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.633 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.642 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_accessDenied]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:14.643 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:14.749 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@25a2f432]
2018-07-12 15:16:14.767 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:14.776 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:15.127 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:15.128 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:15.134 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:16:15.412 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:16:15.413 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:16:15.413 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:16:15.639 ERROR 15264 --- [main] c.t.security.CustomAccessDeniedHandler   : Access is denied
2018-07-12 15:16:15.655 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:16:15.656 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:16:15.660 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:16:15.660 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:15.663 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:15.664 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById_withFailAuth]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:15.664 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:15.664 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7da6d695]
2018-07-12 15:16:15.664 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:15.665 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:15.671 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:15.671 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:15.671 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:16:15.672 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:16:15.672 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:16:15.673 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:16:15.866 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:16:15.866 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:16:15.867 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:16:15.867 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:15.869 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testUpdateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:15.869 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testUpdateProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:15.869 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:15.869 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@79982bcc]
2018-07-12 15:16:15.871 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:15.871 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.104 DEBUG 15264 --- [main] c.training.controller.ProductController  : Starting method updateProduct().
2018-07-12 15:16:16.116 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.116 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.117 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method updateProduct().
2018-07-12 15:16:16.126 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.126 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.185 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.186 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.200 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method updateProduct().
2018-07-12 15:16:16.202 DEBUG 15264 --- [main] c.training.controller.ProductController  : Ending method updateProduct().
2018-07-12 15:16:16.267 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:16:16.267 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:16:16.271 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:16:16.272 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:16.275 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:16.275 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:16.276 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.276 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f3e65f4]
2018-07-12 15:16:16.277 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.277 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.301 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.301 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.302 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:16:16.303 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:16:16.303 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:16:16.303 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:16:16.411 DEBUG 15264 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:16:16.411 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.411 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.411 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:16:16.437 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:16:16.437 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:16:16.437 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:16:16.437 DEBUG 15264 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:16:16.439 DEBUG 15264 --- [main] c.t.c.BaseControllerExceptionHandler     : Starting method notFoundDataError().
2018-07-12 15:16:16.446 ERROR 15264 --- [main] c.t.c.BaseControllerExceptionHandler     : Product ID 'c381032b-7057-11e8-8754-c3e87a3ddddc' not found in DB
2018-07-12 15:16:16.447 DEBUG 15264 --- [main] c.t.c.BaseControllerExceptionHandler     : Ending method notFoundDataError().
2018-07-12 15:16:16.455 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:16:16.455 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:16:16.456 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:16:16.456 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:16.458 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:16.458 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:16.458 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.459 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@504274c1]
2018-07-12 15:16:16.461 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.461 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.474 DEBUG 15264 --- [main] c.training.controller.ProductController  : Starting method addProduct().
2018-07-12 15:16:16.474 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.475 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.475 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method addProduct().
2018-07-12 15:16:16.475 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.475 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.490 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method addProduct().
2018-07-12 15:16:16.490 DEBUG 15264 --- [main] c.training.controller.ProductController  : Ending method addProduct().
2018-07-12 15:16:16.496 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:16:16.497 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#949fe825-d4af-472a-8089-c83fca56b638]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=1} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:16:16.501 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:16:16.501 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:16.502 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:16.503 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:16.503 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.503 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5d8a1456]
2018-07-12 15:16:16.504 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.504 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.513 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.513 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.513 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:16:16.515 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:16:16.515 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:16:16.515 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:16:16.618 DEBUG 15264 --- [main] c.training.controller.ProductController  : Starting method getProductById().
2018-07-12 15:16:16.618 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.618 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.618 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getProductById().
2018-07-12 15:16:16.642 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getProductById().
2018-07-12 15:16:16.643 DEBUG 15264 --- [main] c.training.controller.ProductController  : Ending method getProductById().
2018-07-12 15:16:16.651 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:16:16.651 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:16:16.652 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:16:16.652 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:16.654 DEBUG 15264 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.integration.ProductControllerIntegrationTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:16.654 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.integration.ProductControllerIntegrationTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 15:16:16.654 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.655 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@779136bf]
2018-07-12 15:16:16.655 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.656 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.663 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.663 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.663 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Starting method loadUserByUsername().
2018-07-12 15:16:16.665 DEBUG 15264 --- [main] c.t.s.impl.CustomUserDetailsServiceImpl  : Ending method loadUserByUsername().
2018-07-12 15:16:16.665 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating transaction failed - marking existing transaction as rollback-only
2018-07-12 15:16:16.665 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Setting JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] rollback-only
2018-07-12 15:16:16.792 DEBUG 15264 --- [main] c.training.controller.ProductController  : Starting method getAllProducts().
2018-07-12 15:16:16.792 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 15:16:16.792 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 15:16:16.793 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Starting method getAllProducts().
2018-07-12 15:16:16.807 DEBUG 15264 --- [main] c.t.service.impl.ProductServiceImpl      : Ending method getAllProducts().
2018-07-12 15:16:16.809 DEBUG 15264 --- [main] c.training.controller.ProductController  : Ending method getAllProducts().
2018-07-12 15:16:16.829 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 15:16:16.829 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 15:16:16.829 DEBUG 15264 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 15:16:16.829 DEBUG 15264 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 15:16:19.093  INFO 15264 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 17:01:42.200  INFO 14916 --- [main] c.t.unit.ProductRepositoryUnitTest       : Starting ProductRepositoryUnitTest on pmhuan with PID 14916 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 17:01:42.203 DEBUG 14916 --- [main] c.t.unit.ProductRepositoryUnitTest       : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 17:01:42.208  INFO 14916 --- [main] c.t.unit.ProductRepositoryUnitTest       : No active profile set, falling back to default profiles: default
2018-07-12 17:01:47.294  INFO 14916 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 17:01:49.960  INFO 14916 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 17:01:52.773  WARN 14916 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 17:01:53.588 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:53.860 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:53.865 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:53.865 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:53.887 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:53.887 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:53.903 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:53.904 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:53.985 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.036 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:54.039 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:54.196 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.196 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.197 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.198 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.199 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.199 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.210 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:54.212 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.213 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.214 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:54.215 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.217 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.217 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.286 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.287 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.290 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.290 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.291 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.291 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.308 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.316 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:54.317 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:54.372 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.373 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.374 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.375 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.376 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.377 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.389 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.391 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:54.394 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:54.836 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.837 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.839 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.840 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.842 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.843 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:54.918 DEBUG 14916 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:01:54.921 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:55.094 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:01:56.328  WARN 14916 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 17:01:58.502  INFO 14916 --- [main] c.t.unit.ProductRepositoryUnitTest       : Started ProductRepositoryUnitTest in 17.87 seconds (JVM running for 21.982)
2018-07-12 17:01:58.547 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:58.549 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:58.549 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:58.550 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:58.601 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:58.611 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:58.612 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:58.619 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1fd73dcb]
2018-07-12 17:01:58.626 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:58.627 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:01:58.673 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:58.674 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:01:58.828 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 17:01:58.829 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 17:01:58.833 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 17:01:58.834 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:58.837 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:58.901 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:58.902 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:58.902 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@14aa2123]
2018-07-12 17:01:58.903 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:58.904 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:01:58.926 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:58.930 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:01:59.190 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 17:01:59.192 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#98723ed6-e37f-4d62-affa-1043bc1b5e1e]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 17:01:59.197 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 17:01:59.197 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:59.201 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:59.201 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:59.202 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:59.203 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7a285418]
2018-07-12 17:01:59.204 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:59.204 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:01:59.208 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:59.208 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:01:59.230 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 17:01:59.231 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 17:01:59.231 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 17:01:59.232 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:01:59.234 DEBUG 14916 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:59.234 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:01:59.234 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:59.234 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@589a82af]
2018-07-12 17:01:59.235 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:59.236 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:01:59.239 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:01:59.240 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:01:59.928 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 17:01:59.929 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 17:01:59.929 DEBUG 14916 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 17:01:59.929 DEBUG 14916 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:02:02.571  INFO 14916 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 17:13:22.938  INFO 10456 --- [main] c.t.unit.ProductRepositoryUnitTest       : Starting ProductRepositoryUnitTest on pmhuan with PID 10456 (started by pmhuan in C:\Users\pmhuan\Desktop\Git\DATraining)
2018-07-12 17:13:22.940 DEBUG 10456 --- [main] c.t.unit.ProductRepositoryUnitTest       : Running with Spring Boot v2.0.3.RELEASE, Spring v5.0.7.RELEASE
2018-07-12 17:13:22.941  INFO 10456 --- [main] c.t.unit.ProductRepositoryUnitTest       : No active profile set, falling back to default profiles: default
2018-07-12 17:13:25.983  INFO 10456 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-07-12 17:13:27.207  INFO 10456 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-07-12 17:13:29.464  WARN 10456 --- [main] com.datastax.driver.core.Cluster         : You listed localhost/0:0:0:0:0:0:0:1:9042 in your contact points, but it wasn't found in the control host's system.peers at startup
2018-07-12 17:13:29.873 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:29.968 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:29.971 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:29.971 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:29.978 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:29.978 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:29.996 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:29.997 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.094 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.getAllLocations' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.134 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.addLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:30.138 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.LocationServiceImpl.updateLocation' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:30.313 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.313 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.314 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.315 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.316 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.316 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.326 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.328 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.328 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.addProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:30.329 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:30.330 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByItem' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.330 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getAllProductsFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.331 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.ProductServiceImpl.getProductByIdFromJpa' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.394 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.394 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.396 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.397 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.398 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.398 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.409 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.getAllSales' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.412 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.addSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:30.412 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.SalesServiceImpl.updateSale' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:30.467 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.467 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.468 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.469 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.470 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.471 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.482 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.addTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.486 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.updateTime' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:30.491 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.TimeServiceImpl.getAllTimes' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:30.808 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.809 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.810 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.810 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.811 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.812 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.837 DEBUG 10456 --- [main] tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation
2018-07-12 17:13:30.837 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:30.912 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.service.impl.CustomUserDetailsServiceImpl.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''
2018-07-12 17:13:32.530  WARN 10456 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-07-12 17:13:33.590  INFO 10456 --- [main] c.t.unit.ProductRepositoryUnitTest       : Started ProductRepositoryUnitTest in 11.852 seconds (JVM running for 15.281)
2018-07-12 17:13:33.601 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.602 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.603 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.603 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.614 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.621 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetProductByNonExistentId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.622 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.626 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@62075e3d]
2018-07-12 17:13:33.632 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.632 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:13:33.658 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.658 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:13:33.720 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 17:13:33.721 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 17:13:33.726 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 17:13:33.726 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:33.730 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testAddProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.730 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testAddProduct]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.730 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.731 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3b235623]
2018-07-12 17:13:33.731 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.732 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:13:33.736 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.737 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:13:33.823 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 17:13:33.826 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#90fb4a78-4d84-4dbd-ad22-8d4de11816bd]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 17:13:33.827 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 17:13:33.827 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:33.830 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetProductById' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.830 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetProductById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.830 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.831 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@247877f3]
2018-07-12 17:13:33.832 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.832 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:13:33.835 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.835 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:13:33.847 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 17:13:33.848 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 17:13:33.848 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 17:13:33.849 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:33.850 DEBUG 10456 --- [main] t.a.AnnotationTransactionAttributeSource : Adding transactional method 'com.training.unit.ProductRepositoryUnitTest.testGetAllProducts' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.851 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.training.unit.ProductRepositoryUnitTest.testGetAllProducts]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
2018-07-12 17:13:33.851 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.851 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@602e7a9e]
2018-07-12 17:13:33.852 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.852 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:13:33.855 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for JPA transaction
2018-07-12 17:13:33.856 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2018-07-12 17:13:34.073 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2018-07-12 17:13:34.073 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(PersistenceContext[entityKeys=[EntityKey[com.training.model.jpa.Product#b3c38100-7057-11e8-8754-c3e87a3d914c]],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]
2018-07-12 17:13:34.074 DEBUG 10456 --- [main] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction
2018-07-12 17:13:34.074 DEBUG 10456 --- [main] o.s.orm.jpa.EntityManagerFactoryUtils    : Closing JPA EntityManager
2018-07-12 17:13:36.501  INFO 10456 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
